<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Xmipp API Documentation: Arguments parsing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xmipp_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xmipp API Documentation
   &#160;<span id="projectnumber">v20.07</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Arguments parsing</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Read lists</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpb8bc9ba28a69f3b4cff7081a7023ea09"></a>These functions try to read N values of the desired type into the given structure (either a STL vector of any numerical type by adding the read values at the end or a <a class="el" href="classMatrix1D.html">Matrix1D</a> of any numerical type and then the values are written at PHYSICAL positions 0 ... N-1, the <a class="el" href="classMatrix1D.html">Matrix1D</a> must be big enough to hold all the data since it is not resized internally.</p>
<p>If it is not possible to read all parameters an exception is thrown. You can provide the exception in the function call but there are default values. These functions are based in those for reading single values, so it might be possible that these other functions throw other exceptions.</p>
<p>The different elements of the list are selected using the tokenizing functions (different elements in the string are separated by spaces), so after the application of this function to the input string, this is modified and NULL characters are introduced as delimiters of the elements.</p>
<p>The following code is an example of doing so:</p>
<div class="fragment"><div class="line">getline(in_stream, line);</div><div class="line"><a class="code" href="group__Arguments.html#ga83b5ccb8348982c6232c6d48ca29b9a1">readFloatList</a>(line, 10, <a class="code" href="numerical__recipes_8cpp.html#a9f954d5f5402aa3e24d96406b24f27a7">v1</a>); <span class="comment">// Read 10 values from line in v1</span></div><div class="line"><a class="code" href="group__Arguments.html#ga83b5ccb8348982c6232c6d48ca29b9a1">readFloatList</a>(NULL, 10, v2); <span class="comment">// Read NEXT!! 10 values in v2</span></div></div><!-- fragment --> </td></tr>
<tr class="memitem:ga83b5ccb8348982c6232c6d48ca29b9a1"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga83b5ccb8348982c6232c6d48ca29b9a1"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga83b5ccb8348982c6232c6d48ca29b9a1">readFloatList</a> (const char *str, int N, std::vector&lt; T &gt; &amp;v)</td></tr>
<tr class="separator:ga83b5ccb8348982c6232c6d48ca29b9a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb3ebd10efe591472fc580668d6eacab"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gabb3ebd10efe591472fc580668d6eacab"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Arguments.html#gabb3ebd10efe591472fc580668d6eacab">readFloatList</a> (const std::string &amp;str, size_t &amp;<a class="el" href="project__crystal_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, int N, std::vector&lt; T &gt; &amp;v)</td></tr>
<tr class="separator:gabb3ebd10efe591472fc580668d6eacab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f9929953dac71e3cc1c4e5562067a6c"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga3f9929953dac71e3cc1c4e5562067a6c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga3f9929953dac71e3cc1c4e5562067a6c">readFloatList</a> (const char *str, int N, <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; T &gt; &amp;v, <a class="el" href="group__ErrorHandling.html#gab0df38968e4f03a3f1f6d6df0f31f45a">ErrorType</a> _errno=<a class="el" href="group__ErrorHandling.html#ggab0df38968e4f03a3f1f6d6df0f31f45aad02217f52cd3ac70b89edec020dd25c0">ERR_VALUE_INCORRECT</a>, std::string errmsg=&quot;Error reading floating list&quot;, int exit=0)</td></tr>
<tr class="separator:ga3f9929953dac71e3cc1c4e5562067a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions for parsing the command line</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpf81ee6486dcbc1a0fc89a2a45ab0dbc3"></a>These functions help you to manage the command line parameters </p>
</td></tr>
<tr class="memitem:ga42227a0d5306b2b82e58b1952ab35976"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga42227a0d5306b2b82e58b1952ab35976">getParameter</a> (int argc, const char **argv, const char *<a class="el" href="numerical__recipes_8cpp.html#afc24e6f7aed2394269af01a57e8a6284">param</a>, const char *option=NULL)</td></tr>
<tr class="separator:ga42227a0d5306b2b82e58b1952ab35976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a63b2cf6c894594c375865c7ebc3b8f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga2a63b2cf6c894594c375865c7ebc3b8f">getTwoDoubleParams</a> (int argc, const char **argv, const char *<a class="el" href="numerical__recipes_8cpp.html#afc24e6f7aed2394269af01a57e8a6284">param</a>, double &amp;<a class="el" href="numerical__recipes_8cpp.html#a9f954d5f5402aa3e24d96406b24f27a7">v1</a>, double &amp;v2, double v1_def, double v2_def)</td></tr>
<tr class="separator:ga2a63b2cf6c894594c375865c7ebc3b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga960f2b872511dc8d637b20d9d8ad2074"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga960f2b872511dc8d637b20d9d8ad2074">getThreeDoubleParams</a> (int argc, const char **argv, const char *<a class="el" href="numerical__recipes_8cpp.html#afc24e6f7aed2394269af01a57e8a6284">param</a>, double &amp;<a class="el" href="numerical__recipes_8cpp.html#a9f954d5f5402aa3e24d96406b24f27a7">v1</a>, double &amp;v2, double &amp;v3, double v1_def, double v2_def, double v3_def)</td></tr>
<tr class="separator:ga960f2b872511dc8d637b20d9d8ad2074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa95b256a2648fc3ab187a49fe404fed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#gafa95b256a2648fc3ab187a49fe404fed">checkParameter</a> (int argc, const char **argv, const char *<a class="el" href="numerical__recipes_8cpp.html#afc24e6f7aed2394269af01a57e8a6284">param</a>)</td></tr>
<tr class="separator:gafa95b256a2648fc3ab187a49fe404fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8446ea07de5fd3c973951615823f1a7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga8446ea07de5fd3c973951615823f1a7a">paremeterPosition</a> (int argc, const char **argv, const char *<a class="el" href="numerical__recipes_8cpp.html#afc24e6f7aed2394269af01a57e8a6284">param</a>)</td></tr>
<tr class="separator:ga8446ea07de5fd3c973951615823f1a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga353b04127e25f9edc86c8b6ab573d6a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga353b04127e25f9edc86c8b6ab573d6a4">numComponents</a> (const std::string &amp;str)</td></tr>
<tr class="separator:ga353b04127e25f9edc86c8b6ab573d6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c9bfc4fc27c69ac33679105e1b2e60c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga1c9bfc4fc27c69ac33679105e1b2e60c">getVectorParameter</a> (int argc, const char **argv, const char *<a class="el" href="numerical__recipes_8cpp.html#afc24e6f7aed2394269af01a57e8a6284">param</a>, int dim=2)</td></tr>
<tr class="separator:ga1c9bfc4fc27c69ac33679105e1b2e60c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3b09020753a4be242ef974c8f870f63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#gad3b09020753a4be242ef974c8f870f63">getVectorParameter</a> (FILE *fh, const char *<a class="el" href="numerical__recipes_8cpp.html#afc24e6f7aed2394269af01a57e8a6284">param</a>, int dim=2)</td></tr>
<tr class="separator:gad3b09020753a4be242ef974c8f870f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga472c9cd1c4c73bb26544dee1898de793"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga472c9cd1c4c73bb26544dee1898de793">generateCommandLine</a> (const std::string &amp;command_line, int &amp;argcp, char **&amp;argvp, char *&amp;copy)</td></tr>
<tr class="separator:ga472c9cd1c4c73bb26544dee1898de793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3246049a2cbf75451f943b8c479fd9b2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga3246049a2cbf75451f943b8c479fd9b2">generateCommandLine</a> (FILE *fh, const char *<a class="el" href="numerical__recipes_8cpp.html#afc24e6f7aed2394269af01a57e8a6284">param</a>, int &amp;argcp, char **&amp;argvp, char *&amp;copy)</td></tr>
<tr class="separator:ga3246049a2cbf75451f943b8c479fd9b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d6cc27a11d46636f1ea5bca6bdf8d28"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga1d6cc27a11d46636f1ea5bca6bdf8d28">getParameter</a> (FILE *fh, const char *<a class="el" href="numerical__recipes_8cpp.html#afc24e6f7aed2394269af01a57e8a6284">param</a>, int skip=0, const char *option=NULL)</td></tr>
<tr class="separator:ga1d6cc27a11d46636f1ea5bca6bdf8d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6df9b4cf174ac369bb4182a69af07e3a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Arguments.html#ga6df9b4cf174ac369bb4182a69af07e3a">checkParameter</a> (FILE *fh, const char *<a class="el" href="numerical__recipes_8cpp.html#afc24e6f7aed2394269af01a57e8a6284">param</a>)</td></tr>
<tr class="separator:ga6df9b4cf174ac369bb4182a69af07e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This set of functions are designed for make easier checking and reading parameters from a string. The single value readings don't modify the value of the input string, while the multiple value readings do. In general, the reading is oriented to be done with a chain of strtok (a general C function), for this reason the string itself is modified by the successive calls to strtok.</p>
<p>The second group (list reading) uses tokens internally, while in the single read functions the token must be given by hand. Anyway, it is not so difficult to read a set of fields from a line with all the normal checks we would like (existence of a parameter, checking for numerical correctness...)</p>
<p>The following is an example of its use. This code tries to read a number, a character and a list of numbers from a line. In the example you can also see how to write code for the different error handling methods.</p>
<div class="fragment"><div class="line"><a class="code" href="namespacetesting_1_1internal.html#a8e8ff5b11e64078831112677156cb111">std::string</a> line;</div><div class="line"><span class="keywordtype">int</span> key, param_no;</div><div class="line">std::vector&lt; float &gt; data;</div><div class="line"></div><div class="line"><span class="keywordflow">try</span></div><div class="line">{</div><div class="line">key = <a class="code" href="group__StringUtilities.html#ga9767346b2233af75e82a79632c3530da">textToFloat</a>(<a class="code" href="group__StringUtilities.html#ga1e1a49f6e3c0c3255bca31e14f7b3f86">firstToken</a>(line), 1602, <span class="stringliteral">&quot;Error reading key&quot;</span>);</div><div class="line">param_no = textToInt(<a class="code" href="group__StringUtilities.html#gaae2f54b53648f127a8fc31bea30b1306">nextToken</a>(), 1602, <span class="stringliteral">&quot;Error reading number parameters&quot;</span>);</div><div class="line"><a class="code" href="group__Arguments.html#ga83b5ccb8348982c6232c6d48ca29b9a1">readFloatList</a>(NULL, param_no, data, 1602, <span class="stringliteral">&quot;Error reading doc file line&quot;</span>);</div><div class="line">}</div><div class="line"><span class="keywordflow">catch</span> (<a class="code" href="classXmippError.html">XmippError</a> XE)</div><div class="line">{</div><div class="line">    std::cout &lt;&lt; XE;</div><div class="line">    DL.line_type = 0;</div><div class="line">    <a class="code" href="group__ErrorHandling.html#ga4ab7f9b2fd1ec4b9efcfba0c9b33052c">REPORT_ERROR</a>(1602, <span class="stringliteral">&quot;Line is discarded&quot;</span>);</div><div class="line">}</div></div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafa95b256a2648fc3ab187a49fe404fed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkParameter </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get boolean parameters from the command line.</p>
<p>This function assumes that the command line is structured in such a way that for each parameter a block like "-param" is defined. The label "param" can be substituted by any other one you like. It might be used to look for a boolean parameter, for instance: </p><pre class="fragment">-verbose means that verbose functionality is set (TRUE)
</pre><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;verbose = checkParameter(argc, argv, &quot;-verbose&quot;));</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// checks if &quot;-verbose&quot; was supplied in the command line. If -verbose was</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// supplied the function returns TRUE (1), otherwise returns FALSE (0)</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga6df9b4cf174ac369bb4182a69af07e3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkParameter </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if a parameter is present in a file.</p>
<p>The same as the previous function, but this function only reports if a parameter is present or not in a file. Notice that boolean parameters must be defined as "parameter=". If after the parameter, "no" comes then this function returns FALSE </p>

</div>
</div>
<a class="anchor" id="ga472c9cd1c4c73bb26544dee1898de793"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void generateCommandLine </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>command_line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>argcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&amp;&#160;</td>
          <td class="paramname"><em>argvp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&amp;&#160;</td>
          <td class="paramname"><em>copy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate argc and argv for a string.</p>
<p>Given a string this function makes a copy of the string and divides it into tokens such that they can be used as argc and argv, as if it were a command line.</p>
<p>The string copy remains in "copy" and it can be freed by disposing this variable.</p>
<p>argvp[0] (normally the program name) is set to any value, in this case to "autom", standing for "automatically generated".</p>
<p>argcp==0 if now valid command line is provided, ie, the line is empty or only with blanks.</p>
<p>Next time the function is called it checks that argv and copy are empty (pointing to NULL), if they aren't then firstly the associated memory is freed.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;int argcp;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;char** argvp;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;char* copy;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;copy = NULL;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;argvp = NULL;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;string command_line = &quot;-i input_file -o output_file&quot;;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;generateCommandLine(command_line, argcp, &amp;argvp, &amp;copy);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;if (argcp != 0)</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;read_parameters(argcp, argvp);</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga3246049a2cbf75451f943b8c479fd9b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool generateCommandLine </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>argcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&amp;&#160;</td>
          <td class="paramname"><em>argvp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&amp;&#160;</td>
          <td class="paramname"><em>copy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate articial command line from a file.</p>
<p>The copy variable must be destroyed outside by "delete copy". This function takes "input_file=&lt;input_file&gt;" and turns it into "-input_file &lt;input_file&gt;" The appropriate argc, argv are also returned.</p>
<p>Returns TRUE if the parameter is found in the file, and FALSE if it is not </p>

</div>
</div>
<a class="anchor" id="ga42227a0d5306b2b82e58b1952ab35976"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* getParameter </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>option</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get parameters from the command line.</p>
<p>This function assumes that the command line is structured in such a way that for each parameter a block like "-param &lt;param_value&gt;" is defined. The label "param" can be substituted by any other one you like. If the parameter is optional then this function allows you to define a default value. If no default value is supplied and the parameter is not specified in the command line, then an exception is thrown. You may change the default exception.</p>
<p>You may also indicate that in case of error no exception is raised and force the program to abort (use the exit variable).</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;m_param = textToFloat(getParameter(argc, argv, &quot;-m&quot;));</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// Get compulsory parameter &quot;-m&quot;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;m_param = textToFloat(getParameter(argc, argv, &quot;-m&quot;,&quot;2.65&quot;));</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;// Optional parameter, if no parameter is given it takes 2.65 by default</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;m_param = textToFloat(getParameter(argc, argv, &quot;-m&quot;, NULL, 6001, &quot;-m parameter not \</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    found. I&#39;m going out&quot;, TRUE);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;// Compulsory parameter, if not found give an special error message and exit</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;// the program</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga1d6cc27a11d46636f1ea5bca6bdf8d28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string getParameter </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skip</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>option</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get parameter from file.</p>
<p>Parameters are supposed to be identified with an =, so any line which doesn't contain an = character cannot contain a parameter. The left part of the "=" is the identifier, and the right part the value. The value is returned without any extra space, if it is compound of several words, then the spaces in between are simplified to a single blank space.</p>
<p>The file position inside the file is not moved and comments are allowed starting with "#" and ";".</p>
<p>Parameter skip controls the number of these parameters to skip before returning the value, ie, if there are several "parameter=" tags in a file and you want the first one then you should skip 0, if you want the second the skip=1, ...</p>
<p>The meaning and use of the exit, errors and optional value is the same as in the command line getParameter </p>

</div>
</div>
<a class="anchor" id="ga960f2b872511dc8d637b20d9d8ad2074"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getThreeDoubleParams </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>v2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>v3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v2_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v3_def</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get 3 float parameters after a flag from the command line.</p>
<p>An exception is thrown if there are not enough parameters after the flag, if the message is empty then "Not enough parameters after &lt;param&gt;" is shown. The default values must be provided. TRUE is returned if the two values have been found </p>

</div>
</div>
<a class="anchor" id="ga2a63b2cf6c894594c375865c7ebc3b8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getTwoDoubleParams </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>v2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v2_def</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get two float parameters after a flag from the command line.</p>
<p>An exception is thrown if there are not enough parameters after the flag, if the message is empty then "Not enough parameters after &lt;param&gt;" is shown. The default values must be provided. TRUE is returned if the two values have been found </p>

</div>
</div>
<a class="anchor" id="ga1c9bfc4fc27c69ac33679105e1b2e60c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; getVectorParameter </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dim</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get float vector.</p>
<p>A vector is defined as a "[x,y,z, ...]" of any dimension (by default 2D vectors are read). The vector must not contain blank spaces.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;a = getVectorParameter(argc, argv, &quot;-a&quot;, 3); // a 3D vector called &quot;-a&quot;.</div></div><!-- fragment --><p>The vector is internally resized properly. If the dimension is -1 then all the vector components are read disregarding their dimensionality, ie,-1 is used to read vectors of an unknown dimension. If the parameter is not found when no dimensionality is given an empty vector is returned but no exception is thrown. If there is no dimensionality and a single parameter is behind the flag then no brackets are needed </p>

</div>
</div>
<a class="anchor" id="gad3b09020753a4be242ef974c8f870f63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix1D.html">Matrix1D</a>&lt;double&gt; getVectorParameter </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dim</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get float vector.</p>
<p>Same as the previous function but from a file. </p>

</div>
</div>
<a class="anchor" id="ga353b04127e25f9edc86c8b6ab573d6a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numComponents </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of components of a vector argument.</p>
<p>A vector argument is defined as [x,y,z,...]. It returns 0 if the string does not contain a vector </p>

</div>
</div>
<a class="anchor" id="ga8446ea07de5fd3c973951615823f1a7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int paremeterPosition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the position where the given parameter is in the command line.</p>
<p>This function assumes that the command line is structured in such a way that for each parameter a block like "-param" is defined. The label "param" can be substituted by any other one you like. It returns -1 if the parameter is not found. It is used to look for parameters having a list of values behind, for instance: </p><pre class="fragment">-ang rot tilt psi
</pre><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;i = paremeterPosition(argc, argv, &quot;-ang&quot;));</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// This condition checks if 3 arguments where introduced after -ang parameter</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// (assuming that the -ang argument is the last one in the string)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;if (i+3 &gt;= argc)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    EXIT_ERROR(1, &quot;Not enough parameters behind -ang&quot;);</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;ang1 = argv[i+1];</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;ang2 = argv[i+2];</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;ang3 = argv[i+3];</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga83b5ccb8348982c6232c6d48ca29b9a1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void readFloatList </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List to STL vector. </p>

</div>
</div>
<a class="anchor" id="gabb3ebd10efe591472fc580668d6eacab"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void readFloatList </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List to STL vector. </p>

</div>
</div>
<a class="anchor" id="ga3f9929953dac71e3cc1c4e5562067a6c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void readFloatList </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ErrorHandling.html#gab0df38968e4f03a3f1f6d6df0f31f45a">ErrorType</a>&#160;</td>
          <td class="paramname"><em>_errno</em> = <code><a class="el" href="group__ErrorHandling.html#ggab0df38968e4f03a3f1f6d6df0f31f45aad02217f52cd3ac70b89edec020dd25c0">ERR_VALUE_INCORRECT</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>errmsg</em> = <code>&quot;Error&#160;reading&#160;floating&#160;list&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exit</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read list into a <a class="el" href="classMatrix1D.html">Matrix1D</a>. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
