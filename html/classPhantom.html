<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Xmipp API Documentation: Phantom Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xmipp_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xmipp API Documentation
   &#160;<span id="projectnumber">v20.07</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classPhantom-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Phantom Class Reference<div class="ingroups"><a class="el" href="group__Phantoms.html">Phantoms</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="phantom_8h_source.html">phantom.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Phantom:</div>
<div class="dyncontent">
<div class="center"><img src="classPhantom__coll__graph.png" border="0" usemap="#Phantom_coll__map" alt="Collaboration graph"/></div>
<map name="Phantom_coll__map" id="Phantom_coll__map">
<area shape="rect" id="node2" href="classFileName.html" title="FileName" alt="" coords="5,81,84,108"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0f6f1092a1871dfe3ec86d02afca46df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a0f6f1092a1871dfe3ec86d02afca46df">Phantom</a> ()</td></tr>
<tr class="separator:a0f6f1092a1871dfe3ec86d02afca46df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8122f601943a883d85d1d03553b19667"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a8122f601943a883d85d1d03553b19667">Phantom</a> (const <a class="el" href="classFileName.html">FileName</a> &amp;fn_phantom)</td></tr>
<tr class="separator:a8122f601943a883d85d1d03553b19667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac18bbb5c4653d0995f1d058a283738e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#ac18bbb5c4653d0995f1d058a283738e7">~Phantom</a> ()</td></tr>
<tr class="separator:ac18bbb5c4653d0995f1d058a283738e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeea31372789c73608719546292722cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#afeea31372789c73608719546292722cb">clear</a> ()</td></tr>
<tr class="separator:afeea31372789c73608719546292722cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addfd18592183e95d5182c9eecaef2222"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#addfd18592183e95d5182c9eecaef2222">FeatNo</a> ()</td></tr>
<tr class="separator:addfd18592183e95d5182c9eecaef2222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e20afd95da70daa72707ec3d85ecbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFeature.html">Feature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a70e20afd95da70daa72707ec3d85ecbc">operator()</a> (int <a class="el" href="project__crystal_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)</td></tr>
<tr class="separator:a70e20afd95da70daa72707ec3d85ecbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c755fad485e51ab88d40a1229bfe945"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classFeature.html">Feature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a1c755fad485e51ab88d40a1229bfe945">operator()</a> (int <a class="el" href="project__crystal_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>) const </td></tr>
<tr class="separator:a1c755fad485e51ab88d40a1229bfe945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae37d631998602cc6ceded77de112e4e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#ae37d631998602cc6ceded77de112e4e7">add</a> (<a class="el" href="classFeature.html">Feature</a> *<a class="el" href="numerical__recipes_8cpp.html#a633de4b0c14ca52ea2432a3c8a5c4c31">f</a>)</td></tr>
<tr class="separator:ae37d631998602cc6ceded77de112e4e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff7c2737ca1cc05bd4d9c930b96ed270"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPhantom.html">Phantom</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#aff7c2737ca1cc05bd4d9c930b96ed270">operator=</a> (const <a class="el" href="classPhantom.html">Phantom</a> &amp;P)</td></tr>
<tr class="memdesc:aff7c2737ca1cc05bd4d9c930b96ed270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment.  <a href="#aff7c2737ca1cc05bd4d9c930b96ed270">More...</a><br /></td></tr>
<tr class="separator:aff7c2737ca1cc05bd4d9c930b96ed270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a650378436050d48f60679ba7435f640b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a650378436050d48f60679ba7435f640b">assign</a> (const <a class="el" href="classPhantom.html">Phantom</a> &amp;P)</td></tr>
<tr class="separator:a650378436050d48f60679ba7435f640b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ec9a98be53ca2cfabe195c311d26d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a60ec9a98be53ca2cfabe195c311d26d2">prepare</a> ()</td></tr>
<tr class="memdesc:a60ec9a98be53ca2cfabe195c311d26d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare for work.  <a href="#a60ec9a98be53ca2cfabe195c311d26d2">More...</a><br /></td></tr>
<tr class="separator:a60ec9a98be53ca2cfabe195c311d26d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4539f42fa8e43065718ed276ee3ebb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a0a4539f42fa8e43065718ed276ee3ebb">max_distance</a> () const </td></tr>
<tr class="memdesc:a0a4539f42fa8e43065718ed276ee3ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the maximum distance of any feature to the volume center.  <a href="#a0a4539f42fa8e43065718ed276ee3ebb">More...</a><br /></td></tr>
<tr class="separator:a0a4539f42fa8e43065718ed276ee3ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3998b8ff9f2524f94d263aea70ea6034"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a3998b8ff9f2524f94d263aea70ea6034">volume</a> () const </td></tr>
<tr class="memdesc:a3998b8ff9f2524f94d263aea70ea6034"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the volume of all the features.  <a href="#a3998b8ff9f2524f94d263aea70ea6034">More...</a><br /></td></tr>
<tr class="separator:a3998b8ff9f2524f94d263aea70ea6034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e22a11d2edae0aabebad15e982112a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#ab6e22a11d2edae0aabebad15e982112a">read</a> (const <a class="el" href="classFileName.html">FileName</a> &amp;fn_phantom, bool apply_scale=true)</td></tr>
<tr class="separator:ab6e22a11d2edae0aabebad15e982112a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9536e9dacdeb45c3a2abb7061121d59f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a9536e9dacdeb45c3a2abb7061121d59f">write</a> (const <a class="el" href="classFileName.html">FileName</a> &amp;fn_phantom=&quot;&quot;)</td></tr>
<tr class="separator:a9536e9dacdeb45c3a2abb7061121d59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22801183cc6354029379eb3547c4ab7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#aa22801183cc6354029379eb3547c4ab7">voxel_inside_any_feat</a> (const <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;r, <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;aux1, <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;aux2) const </td></tr>
<tr class="separator:aa22801183cc6354029379eb3547c4ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca9f83d30578397cc3be9a1d98c7bd63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#aca9f83d30578397cc3be9a1d98c7bd63">voxel_inside_any_feat</a> (const <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;r) const </td></tr>
<tr class="separator:aca9f83d30578397cc3be9a1d98c7bd63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9764f4155bb8be100c7cffb521536197"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a9764f4155bb8be100c7cffb521536197">any_feature_intersects_sphere</a> (const <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;r, double radius, <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;aux1, <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;aux2, <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;aux3) const </td></tr>
<tr class="separator:a9764f4155bb8be100c7cffb521536197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f6d9d535484186f98e6d4ab3eee482"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a06f6d9d535484186f98e6d4ab3eee482">any_feature_intersects_sphere</a> (const <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;r, double radius) const </td></tr>
<tr class="separator:a06f6d9d535484186f98e6d4ab3eee482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e4f9762ff9c771ac287c0c7237848bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a4e4f9762ff9c771ac287c0c7237848bf">draw_in</a> (<a class="el" href="classMultidimArray.html">MultidimArray</a>&lt; double &gt; &amp;V)</td></tr>
<tr class="separator:a4e4f9762ff9c771ac287c0c7237848bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386c1d4016613a28f7efac5a6c5787f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a386c1d4016613a28f7efac5a6c5787f8">label</a> (<a class="el" href="classMultidimArray.html">MultidimArray</a>&lt; double &gt; &amp;V)</td></tr>
<tr class="separator:a386c1d4016613a28f7efac5a6c5787f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c033b91d3a7aa54cf90f137f152554"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#ac1c033b91d3a7aa54cf90f137f152554">sketch_in</a> (<a class="el" href="classMultidimArray.html">MultidimArray</a>&lt; double &gt; &amp;V, int clean=<a class="el" href="phantom_8h.html#a9b138cb57885319876cd956babcf38c1">DONT_CLEAN</a>, double colour=2)</td></tr>
<tr class="separator:ac1c033b91d3a7aa54cf90f137f152554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c522b67cfd1f5552ec6d535c50cf5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a37c522b67cfd1f5552ec6d535c50cf5e">shift</a> (double shiftX, double shiftY, double shiftZ)</td></tr>
<tr class="separator:a37c522b67cfd1f5552ec6d535c50cf5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade1a7ab8032d3194d0fc49409fd1133a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#ade1a7ab8032d3194d0fc49409fd1133a">rotate</a> (const <a class="el" href="classMatrix2D.html">Matrix2D</a>&lt; double &gt; &amp;E)</td></tr>
<tr class="separator:ade1a7ab8032d3194d0fc49409fd1133a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53954a765a251bc106359ed7424ca0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#ac53954a765a251bc106359ed7424ca0e">selfApplyGeometry</a> (const <a class="el" href="classMatrix2D.html">Matrix2D</a>&lt; double &gt; &amp;A, int inv)</td></tr>
<tr class="separator:ac53954a765a251bc106359ed7424ca0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9738c948a9df13fdd2bb0f5657793a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#afa9738c948a9df13fdd2bb0f5657793a">project_to</a> (<a class="el" href="classProjection.html">Projection</a> &amp;P, int Ydim, int Xdim, double rot, double tilt, double psi, const <a class="el" href="classMatrix2D.html">Matrix2D</a>&lt; double &gt; *A=NULL) const </td></tr>
<tr class="separator:afa9738c948a9df13fdd2bb0f5657793a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d61fc6e7312e9dbd882f611e184b360"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a3d61fc6e7312e9dbd882f611e184b360">project_to</a> (<a class="el" href="classProjection.html">Projection</a> &amp;P, double rot, double tilt, double psi, const <a class="el" href="classMatrix2D.html">Matrix2D</a>&lt; double &gt; *A=NULL) const </td></tr>
<tr class="separator:a3d61fc6e7312e9dbd882f611e184b360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d7660140e436c4960eb4922f06e945"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a37d7660140e436c4960eb4922f06e945">project_to</a> (<a class="el" href="classProjection.html">Projection</a> &amp;P, const <a class="el" href="classMatrix2D.html">Matrix2D</a>&lt; double &gt; &amp;VP, double disappearing_th=1.0) const </td></tr>
<tr class="separator:a37d7660140e436c4960eb4922f06e945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadfdf29586936b4be2e3d517788a4534"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#aadfdf29586936b4be2e3d517788a4534">surface</a> (double <a class="el" href="splines_8cpp.html#a3f5c4dfb0dff56801752771f78265fbe">z0</a>, double radius, int <a class="el" href="group__FringeProcessing.html#gad71cd7f2325be81202279ed730355092">direction</a>, <a class="el" href="classImage.html">Image</a>&lt; double &gt; *P) const </td></tr>
<tr class="separator:aadfdf29586936b4be2e3d517788a4534"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a37fc05be4b1941a82a04df83b8672c3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFileName.html">FileName</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a37fc05be4b1941a82a04df83b8672c3a">fn</a></td></tr>
<tr class="memdesc:a37fc05be4b1941a82a04df83b8672c3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filename.  <a href="#a37fc05be4b1941a82a04df83b8672c3a">More...</a><br /></td></tr>
<tr class="separator:a37fc05be4b1941a82a04df83b8672c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb218fc635f5c078cba041e538ea76b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#afb218fc635f5c078cba041e538ea76b8">xdim</a></td></tr>
<tr class="memdesc:afb218fc635f5c078cba041e538ea76b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Final volume X dimension.  <a href="#afb218fc635f5c078cba041e538ea76b8">More...</a><br /></td></tr>
<tr class="separator:afb218fc635f5c078cba041e538ea76b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a614b76f0cf1bb8cfe7b98047f2b8dc7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a614b76f0cf1bb8cfe7b98047f2b8dc7a">ydim</a></td></tr>
<tr class="memdesc:a614b76f0cf1bb8cfe7b98047f2b8dc7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Final volume Y dimension.  <a href="#a614b76f0cf1bb8cfe7b98047f2b8dc7a">More...</a><br /></td></tr>
<tr class="separator:a614b76f0cf1bb8cfe7b98047f2b8dc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaeb13139ea6fdc791e551a83d2f4ece"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#aaaeb13139ea6fdc791e551a83d2f4ece">zdim</a></td></tr>
<tr class="memdesc:aaaeb13139ea6fdc791e551a83d2f4ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Final volume Z dimension.  <a href="#aaaeb13139ea6fdc791e551a83d2f4ece">More...</a><br /></td></tr>
<tr class="separator:aaaeb13139ea6fdc791e551a83d2f4ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a780e1b83fef7587ac4f48b8ea0fb5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a97a780e1b83fef7587ac4f48b8ea0fb5">Background_Density</a></td></tr>
<tr class="memdesc:a97a780e1b83fef7587ac4f48b8ea0fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Final volume background density.  <a href="#a97a780e1b83fef7587ac4f48b8ea0fb5">More...</a><br /></td></tr>
<tr class="separator:a97a780e1b83fef7587ac4f48b8ea0fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b0d6771b22d06535000de7ba3b7f52"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#ad6b0d6771b22d06535000de7ba3b7f52">current_scale</a></td></tr>
<tr class="memdesc:ad6b0d6771b22d06535000de7ba3b7f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has been the scale applied?  <a href="#ad6b0d6771b22d06535000de7ba3b7f52">More...</a><br /></td></tr>
<tr class="separator:ad6b0d6771b22d06535000de7ba3b7f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43164ae1928635229333ce41c01e2f35"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a43164ae1928635229333ce41c01e2f35">param_file_scale</a></td></tr>
<tr class="memdesc:a43164ae1928635229333ce41c01e2f35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Param file scale.  <a href="#a43164ae1928635229333ce41c01e2f35">More...</a><br /></td></tr>
<tr class="separator:a43164ae1928635229333ce41c01e2f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e07a6c798f13f5c87488704dd89791"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a08e07a6c798f13f5c87488704dd89791">phantom_scale</a></td></tr>
<tr class="memdesc:a08e07a6c798f13f5c87488704dd89791"><td class="mdescLeft">&#160;</td><td class="mdescRight">Param file scale.  <a href="#a08e07a6c798f13f5c87488704dd89791">More...</a><br /></td></tr>
<tr class="separator:a08e07a6c798f13f5c87488704dd89791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37a930cd36cd7d25a11da6bb0f3ce7f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classFeature.html">Feature</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#ab37a930cd36cd7d25a11da6bb0f3ce7f">VF</a></td></tr>
<tr class="memdesc:ab37a930cd36cd7d25a11da6bb0f3ce7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">List with the features.  <a href="#ab37a930cd36cd7d25a11da6bb0f3ce7f">More...</a><br /></td></tr>
<tr class="separator:ab37a930cd36cd7d25a11da6bb0f3ce7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a4c9ed4267360de6b707902f0b0b1f902"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPhantom.html#a4c9ed4267360de6b707902f0b0b1f902">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classPhantom.html">Phantom</a> &amp;<a class="el" href="numerical__recipes_8cpp.html#a633de4b0c14ca52ea2432a3c8a5c4c31">f</a>)</td></tr>
<tr class="separator:a4c9ed4267360de6b707902f0b0b1f902"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classPhantom.html">Phantom</a> class. The phantom class is simply a list (STL vector) of features plus some information about the size of the final volume to generate and its background density. This is the class that will interact with the reconstruction programs as the features classes themselves haven't got enough information to generate the final volume. The file format to generate the phantom is described in the previous page (<a class="el" href="group__Phantoms.html">Phantoms</a>).</p>
<p>This class is thought to be filled from a file, and doesn't give many facilities to update it from program. This is something to do.</p>
<p>Here goes an example of how to manage loops in the phantom class, </p><div class="fragment"><div class="line"><span class="comment">// Show all features</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;=P.FeatNo(); i++) std::cout &lt;&lt; P(i);</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0f6f1092a1871dfe3ec86d02afca46df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Phantom::Phantom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Empty constructor. The empty phantom is 0x0x0, background density=0, no feature is inside and no name. </p>

</div>
</div>
<a class="anchor" id="a8122f601943a883d85d1d03553b19667"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Phantom::Phantom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFileName.html">FileName</a> &amp;&#160;</td>
          <td class="paramname"><em>fn_phantom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct from a phantom file. Construct the phantom according to the specifications of the given file. The file must accomplish the structure given in <a class="el" href="group__Phantoms.html">Phantoms</a>. </p>

</div>
</div>
<a class="anchor" id="ac18bbb5c4653d0995f1d058a283738e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Phantom::~Phantom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor. All features are freed. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae37d631998602cc6ceded77de112e4e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFeature.html">Feature</a> *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a feature to the phantom. This function allows you to add new features at the end of the phantom. \ Ex: <a class="el" href="classSphere.html">Sphere</a> S; S.radius(); S.prepare(); Phantom.add(&amp;S); </p>

</div>
</div>
<a class="anchor" id="a9764f4155bb8be100c7cffb521536197"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Phantom::any_feature_intersects_sphere </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>aux1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>aux2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>aux3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Speeded up sphere intersecting any feature. This function returns the first feature in the list intersecting a sphere with center r in R3 and the given radius. In none, 0 is returned. This speeded up function needs two vectors with dimension 3 externally resized. </p>

</div>
</div>
<a class="anchor" id="a06f6d9d535484186f98e6d4ab3eee482"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Phantom::any_feature_intersects_sphere </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classSphere.html">Sphere</a> intersecting feature. This function is based in the previous one. It makes the same but you needn't supply the auxiliar vectors. </p>

</div>
</div>
<a class="anchor" id="a650378436050d48f60679ba7435f640b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::assign </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPhantom.html">Phantom</a> &amp;&#160;</td>
          <td class="paramname"><em>P</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Another function for assignment. </p>

</div>
</div>
<a class="anchor" id="afeea31372789c73608719546292722cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the phantom. Force the phantom to be empty. All features are freed. </p>

</div>
</div>
<a class="anchor" id="a4e4f9762ff9c771ac287c0c7237848bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::draw_in </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMultidimArray.html">MultidimArray</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>V</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Draw the phantom in the volume. The volume is cleaned, resized to the phantom size and its origin is set at the center of the volume. Then every feature is drawn into the volume </p>

</div>
</div>
<a class="anchor" id="addfd18592183e95d5182c9eecaef2222"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Phantom::FeatNo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of features in the list. </p>

</div>
</div>
<a class="anchor" id="a386c1d4016613a28f7efac5a6c5787f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::label </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMultidimArray.html">MultidimArray</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>V</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Label a volume after the phantom. The volume is cleaned, resized to the phantom size and its origin is set at the center of the volume. Then every feature is drawn into the volume using different densities. Background has got density 0, the border for first feature density -1, the first feature has got density 1, the second 2 and its border -2, ... </p>

</div>
</div>
<a class="anchor" id="a0a4539f42fa8e43065718ed276ee3ebb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Phantom::max_distance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the maximum distance of any feature to the volume center. </p>

</div>
</div>
<a class="anchor" id="a70e20afd95da70daa72707ec3d85ecbc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFeature.html">Feature</a>* Phantom::operator() </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Access to a feature pointer. You can address each one of the features using this operator, remember that features are numbered as 1, 2, ... <a class="el" href="classPhantom.html#addfd18592183e95d5182c9eecaef2222">FeatNo()</a> </p>

</div>
</div>
<a class="anchor" id="a1c755fad485e51ab88d40a1229bfe945"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classFeature.html">Feature</a>* Phantom::operator() </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constant Access to a feature pointer. Same as the previous one but with constant access. </p>

</div>
</div>
<a class="anchor" id="aff7c2737ca1cc05bd4d9c930b96ed270"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPhantom.html">Phantom</a> &amp; Phantom::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPhantom.html">Phantom</a> &amp;&#160;</td>
          <td class="paramname"><em>P</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assignment. </p>

</div>
</div>
<a class="anchor" id="a60ec9a98be53ca2cfabe195c311d26d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::prepare </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare for work. </p>

</div>
</div>
<a class="anchor" id="afa9738c948a9df13fdd2bb0f5657793a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::project_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classProjection.html">Projection</a> &amp;&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Ydim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Xdim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tilt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>psi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMatrix2D.html">Matrix2D</a>&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>A</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Project phantom from a direction. The direction is specified by the 3 <a class="el" href="classEuler.html">Euler</a> angles (as usual, rot=1st, tilt=2nd, psi=3rd), the projection size is (Ydim x Xdim) given in the function call, the projection logical origin is set at the physical center of the image. The projection is cleaned and then the projection of the phantom is computed. A matrix A (3x3) can be supplied in order to apply a deformation in the projection plane. A must be such that </p><div class="fragment"><div class="line">deformed position=A*undeformed position</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a3d61fc6e7312e9dbd882f611e184b360"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::project_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classProjection.html">Projection</a> &amp;&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tilt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>psi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMatrix2D.html">Matrix2D</a>&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>A</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Project phantom from a direction. The same as before but this time the projection is supposed to be already resized and with the right center. The phantom projection is added to the already drawn projection. </p>

</div>
</div>
<a class="anchor" id="a37d7660140e436c4960eb4922f06e945"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::project_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classProjection.html">Projection</a> &amp;&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMatrix2D.html">Matrix2D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>VP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>disappearing_th</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Project phantom using a conversion matrix. The same as before but this time the projection is supposed to be already resized and with the right center. The phantom projection is added to the already drawn projeciton. <a class="el" href="classEuler.html">Euler</a> angles of the projection are not set and the phantom volume is projected to the projection plane making use of the matrix provided (3x3) which is the needed transformation from the volume to the projection plane. Inside the projection plane only the first two coordinates are valid. If disappearing_th &lt; 1 then the ith phantom feature is skiped with a provability = 1-disappearing_th </p>

</div>
</div>
<a class="anchor" id="ab6e22a11d2edae0aabebad15e982112a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::read </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFileName.html">FileName</a> &amp;&#160;</td>
          <td class="paramname"><em>fn_phantom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>apply_scale</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a phantom file. The file must accomplish the structure given in <a class="el" href="group__Phantoms.html">Phantoms</a> .</p>
<p>If you don't apply the scale then all spatial coordinates are expressed in the given scale units. I.e., if the scale is 0.25 that means that every voxel in the voxel phantom represent 4 length units (usually Angstroms). If the scale is applied, then coordinates are expressed in voxel edge units. Otherwise, coordinates are expressed in length units (usually Angstroms).</p>
<p>We recommend apply_scale=false only if you plan to modify the description file without produstd::cing projections, voxel phantoms, ... </p>

</div>
</div>
<a class="anchor" id="ade1a7ab8032d3194d0fc49409fd1133a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::rotate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMatrix2D.html">Matrix2D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>E</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rotate. Rotate a phantom after a given 3D rotation. </p>

</div>
</div>
<a class="anchor" id="ac53954a765a251bc106359ed7424ca0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::selfApplyGeometry </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMatrix2D.html">Matrix2D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Apply a general geometric transformation. The transformation must be defined by a 4x4 matrix that can be generated using the geometric functions in xmippGeometry or xmippMatrix2D. The inv argument is either IS_INV or IS_NOT_INV. Matrices coming out from xmippGeometry for rotations, shifts, ... are not INV.</p>
<p>An exception is thrown if the matrix A is not valid. </p>

</div>
</div>
<a class="anchor" id="a37c522b67cfd1f5552ec6d535c50cf5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::shift </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shiftX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shiftY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shiftZ</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shift. Shift all features in the phantom a given amount of voxels. See <a class="el" href="classFeature.html#a747114489bb6e6fcfe2f8d196d7f6ec1">Feature::shift</a>. </p>

</div>
</div>
<a class="anchor" id="ac1c033b91d3a7aa54cf90f137f152554"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::sketch_in </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMultidimArray.html">MultidimArray</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>clean</em> = <code><a class="el" href="phantom_8h.html#a9b138cb57885319876cd956babcf38c1">DONT_CLEAN</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>colour</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sketch the surface of the phantom in the volume. This function allows you to draw only the surface of every feature (see <a class="el" href="classFeature.html#af92c06440e165f40c303e893564326f3">Feature::sketch_in</a> to see when a voxel is said to belong to the feature surface). The input volume might be cleaned (resized and the logical origin set at the physical center) or not according to the labels CLEAN or DONT_CLEAN (by default). The grey level for those voxels can be defined (by default, 2) and the colour is assigned </p>

</div>
</div>
<a class="anchor" id="aadfdf29586936b4be2e3d517788a4534"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::surface </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>z0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classImage.html">Image</a>&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>P</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Surface of the phantom as in AFM. This function produces the surface of a phantom in a given image when measuring rays go POS_NEG or NEG_POS (from Z positive to Z negative, and viceversa). If rays reach point z0 and the phantom is not reached the surface for that point is z0, otherwise it is the z of the last voxel which is still outside the phantom.</p>
<p>This function throws an exception if z0 is outside the volume definition. If z0 is equal to zdim then it is not used.</p>
<p>The radius is the probe radius for the surface generation.</p>
<p>If the output image is not resized, it is resized to the Y and X dimensions of the phantom. </p>

</div>
</div>
<a class="anchor" id="a3998b8ff9f2524f94d263aea70ea6034"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Phantom::volume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the volume of all the features. </p>

</div>
</div>
<a class="anchor" id="aa22801183cc6354029379eb3547c4ab7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Phantom::voxel_inside_any_feat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>aux1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>aux2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Speeded up voxel inside any feature. This function tells you if the voxel of size 1x1x1 whose center is at position r is inside any of the features. A voxel is said to be inside a feature if it shares at least 1 corner with the feature. This function returns the first feature of the list containing the voxel. Features are numbered as 1, 2, ... If the voxel is not in any feature the function returns 0.</p>
<p>aux1 and aux2, are two vectors of dimension 3. They must be supplied in order to gain speed in the calculations. This is very useful when checking if many voxels are inside any feature. See also <a class="el" href="classFeature.html#a86351acf111729baa92dfc2a5b659ba7">Feature::voxel_inside</a> to know more. </p>

</div>
</div>
<a class="anchor" id="aca9f83d30578397cc3be9a1d98c7bd63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Phantom::voxel_inside_any_feat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMatrix1D.html">Matrix1D</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Voxel inside any feature. The same as the previous one but you needn't supply the extra auxiliar vectors. </p>

</div>
</div>
<a class="anchor" id="a9536e9dacdeb45c3a2abb7061121d59f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Phantom::write </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFileName.html">FileName</a> &amp;&#160;</td>
          <td class="paramname"><em>fn_phantom</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a phantom file in the standard feature format. You may rename the file or not giving a different name in the write call. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a4c9ed4267360de6b707902f0b0b1f902"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classPhantom.html">Phantom</a> &amp;&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Show a phantom file. The more descriptive format is used instead of the standard <a class="el" href="classFeature.html">Feature</a> format </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a97a780e1b83fef7587ac4f48b8ea0fb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Phantom::Background_Density</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Final volume background density. </p>

</div>
</div>
<a class="anchor" id="ad6b0d6771b22d06535000de7ba3b7f52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Phantom::current_scale</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Has been the scale applied? </p>

</div>
</div>
<a class="anchor" id="a37fc05be4b1941a82a04df83b8672c3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFileName.html">FileName</a> Phantom::fn</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filename. </p>

</div>
</div>
<a class="anchor" id="a43164ae1928635229333ce41c01e2f35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Phantom::param_file_scale</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Param file scale. </p>

</div>
</div>
<a class="anchor" id="a08e07a6c798f13f5c87488704dd89791"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Phantom::phantom_scale</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Param file scale. </p>

</div>
</div>
<a class="anchor" id="ab37a930cd36cd7d25a11da6bb0f3ce7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classFeature.html">Feature</a>*&gt; Phantom::VF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List with the features. </p>

</div>
</div>
<a class="anchor" id="afb218fc635f5c078cba041e538ea76b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Phantom::xdim</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Final volume X dimension. </p>

</div>
</div>
<a class="anchor" id="a614b76f0cf1bb8cfe7b98047f2b8dc7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Phantom::ydim</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Final volume Y dimension. </p>

</div>
</div>
<a class="anchor" id="aaaeb13139ea6fdc791e551a83d2f4ece"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Phantom::zdim</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Final volume Z dimension. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/yunior/Yunior/Projects/Scipion/COSS/xmipp-bundle/src/xmipp/libraries/data/<a class="el" href="phantom_8h_source.html">phantom.h</a></li>
<li>/home/yunior/Yunior/Projects/Scipion/COSS/xmipp-bundle/src/xmipp/libraries/data/<a class="el" href="phantom_8cpp.html">phantom.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
